**师**：自此我们开始操作系统三部曲的第一部分：虚拟化

**生**:什么是虚拟化？

**师**：想象我们有一个桃子。

**生**：桃子？

**师**：对，一个桃子，我们称之为物理桃子，但是有许多人想吃这个桃子，我们想让每个人都有自己的桃子，这样皆大欢喜，于是每个人拥有的一个桃子就称为虚拟桃子；我们通过一些手段制造出许多虚拟桃子分给每个人，从而让每个人感觉自己都拥有一个实际的桃子，其实并不是。

**生**：也就是说你是在和别人共享桃子，但你自己却觉察不到。

**师**：对，就是这样。

**生**：然而实际上就一个桃子啊。 

**师**：是的，然后呢？

**生**：如果我要是和别人共享一个桃子，我一定会觉察到。

**师**：对的，但是实际情况是，有很多人想吃桃子，但是大部分实际他们又在互相交谈或者做其他的事情，因此我们只要趁一个人不注意时将桃子交给另一个人，通过这种方式就好像创造出许多桃子的幻象，从而好像每个人都拥有自己的桃子。

**生：**感觉这并不是一个好的比喻，我们是在讨论计算机，而不是桃子。

**师：**好吧，既然你需要一个具体的例子，那我们来考虑计算机中最基本的资源CPU，假设只有单个CPU，怎样的虚拟化操作能够将CPU对运行在其上的应用虚拟化呢，就好像每个应用都拥有其各自的CPU一样，操作系统就完成了这一虚拟化功能。

**生：**神奇啊，如何做到呢？

**师：**让我们拭目以待。